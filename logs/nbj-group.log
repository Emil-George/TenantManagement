2025-11-18 21:09:35.271 [restartedMain] INFO  c.n.TenantManagementApplication - Starting TenantManagementApplication using Java 17.0.5 with PID 15992 (D:\njbGroup\home\ubuntu\nbj-group\backend\target\classes started by emilg in D:\njbGroup\home\ubuntu\nbj-group\backend)
2025-11-18 21:09:35.287 [restartedMain] DEBUG c.n.TenantManagementApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-11-18 21:09:35.291 [restartedMain] INFO  c.n.TenantManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-18 21:09:35.546 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-18 21:09:35.548 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-18 21:09:38.235 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-18 21:09:38.407 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 152 ms. Found 7 JPA repository interfaces.
2025-11-18 21:09:40.272 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-18 21:09:40.293 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-18 21:09:40.293 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-11-18 21:09:40.394 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-11-18 21:09:40.394 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4841 ms
2025-11-18 21:09:41.034 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-18 21:09:41.170 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-11-18 21:09:41.253 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-18 21:09:41.764 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-18 21:09:41.822 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-18 21:09:42.325 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@38b39f50
2025-11-18 21:09:42.328 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-18 21:09:42.429 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-18 21:09:45.171 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-18 21:09:45.588 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-18 21:09:47.501 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-18 21:09:49.382 [restartedMain] DEBUG c.n.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-18 21:09:49.382 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-18 21:09:50.566 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-18 21:09:50.953 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 30 mappings in 'requestMappingHandlerMapping'
2025-11-18 21:09:51.231 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-18 21:09:51.505 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-11-18 21:09:51.632 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5b56395b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ef46e53, org.springframework.security.web.context.SecurityContextHolderFilter@2a0b9f1b, org.springframework.security.web.header.HeaderWriterFilter@29b04bb5, org.springframework.web.filter.CorsFilter@73d3f8af, org.springframework.security.web.authentication.logout.LogoutFilter@24eabce2, com.nbjgroup.security.JwtAuthenticationFilter@622dee54, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@658aa56d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3402b496, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ed0a1a2, org.springframework.security.web.session.SessionManagementFilter@e83309f, org.springframework.security.web.access.ExceptionTranslationFilter@3b9cf47e, org.springframework.security.web.access.intercept.AuthorizationFilter@fbcf398]
2025-11-18 21:09:51.865 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-18 21:09:51.935 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-18 21:09:52.675 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-18 21:09:52.807 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-11-18 21:09:52.823 [restartedMain] INFO  c.n.TenantManagementApplication - Started TenantManagementApplication in 19.149 seconds (process running for 20.343)
2025-11-18 21:11:06.072 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-18 21:11:06.072 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-18 21:11:06.074 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-18 21:11:06.074 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-18 21:11:06.074 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-18 21:11:06.075 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5df89779
2025-11-18 21:11:06.077 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@6db54f94
2025-11-18 21:11:06.077 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-18 21:11:06.079 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-11-18 21:11:06.112 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /dashboard/admin
2025-11-18 21:11:06.116 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /dashboard/admin
2025-11-18 21:11:06.154 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /dashboard/admin
2025-11-18 21:11:06.285 [http-nio-8080-exec-2] ERROR c.nbjgroup.security.JwtTokenProvider - JWT token is expired: JWT expired at 2025-11-13T17:25:11Z. Current time: 2025-11-19T02:11:06Z, a difference of 463555283 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-11-18 21:11:06.287 [http-nio-8080-exec-2] WARN  c.n.security.JwtAuthenticationFilter - Invalid JWT token received
2025-11-18 21:11:06.294 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-18 21:11:06.300 [http-nio-8080-exec-2] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/dashboard/admin' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-11-18 21:11:06.331 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-18 21:11:06.344 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-18 21:11:06.356 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-18 21:11:06.358 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-18 21:11:06.363 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /dashboard/admin
2025-11-18 21:11:06.369 [http-nio-8080-exec-4] ERROR c.nbjgroup.security.JwtTokenProvider - JWT token is expired: JWT expired at 2025-11-13T17:25:11Z. Current time: 2025-11-19T02:11:06Z, a difference of 463555369 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-11-18 21:11:06.371 [http-nio-8080-exec-4] WARN  c.n.security.JwtAuthenticationFilter - Invalid JWT token received
2025-11-18 21:11:06.372 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-18 21:11:06.377 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-18 21:11:06.377 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-18 21:11:06.384 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-18 21:11:06.385 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-18 21:11:27.460 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/login
2025-11-18 21:11:27.468 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-11-18 21:11:27.472 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-18 21:11:27.477 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-11-18 21:11:27.483 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-18 21:11:27.486 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.nbjgroup.controller.AuthController#login(LoginRequest)
2025-11-18 21:11:27.559 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{email='testuser@gmail.com', rememberMe=false}]
2025-11-18 21:11:27.664 [http-nio-8080-exec-8] INFO  c.nbjgroup.controller.AuthController - Login attempt for user: testuser@gmail.com
2025-11-18 21:11:28.555 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-11-18 21:11:28.623 [http-nio-8080-exec-8] DEBUG c.n.s.CustomUserDetailsService - Updated last login for user: testuser@gmail.com
2025-11-18 21:11:28.738 [http-nio-8080-exec-8] INFO  c.nbjgroup.controller.AuthController - Login successful for user: testuser@gmail.com
2025-11-18 21:11:28.754 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-18 21:11:28.755 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.nbjgroup.dto.auth.AuthResponse@1afeef69]
2025-11-18 21:11:28.768 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-18 21:11:28.786 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /dashboard/tenant
2025-11-18 21:11:28.788 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /dashboard/tenant
2025-11-18 21:11:28.801 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /dashboard/tenant
2025-11-18 21:11:28.842 [http-nio-8080-exec-1] DEBUG c.n.security.JwtAuthenticationFilter - Set authentication for user: testuser@gmail.com
2025-11-18 21:11:28.846 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /dashboard/tenant
2025-11-18 21:11:28.847 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dashboard/tenant", parameters={}
2025-11-18 21:11:28.848 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.nbjgroup.controller.DashboardController#getTenantDashboardData()
2025-11-18 21:11:28.849 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nbjgroup.controller.DashboardController.getTenantDashboardData(); target is of class [com.nbjgroup.controller.DashboardController]
2025-11-18 21:11:28.895 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nbjgroup.controller.DashboardController.getTenantDashboardData(); target is of class [com.nbjgroup.controller.DashboardController]
2025-11-18 21:11:28.963 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-18 21:11:28.963 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{profile={propertyAddress=123 false street, name=Test User, leaseEnd=null, email=testuser@gmail.com} (truncated)...]
2025-11-18 21:11:28.972 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-18 21:11:28.972 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /dashboard/tenant
2025-11-18 21:11:29.013 [http-nio-8080-exec-3] DEBUG c.n.security.JwtAuthenticationFilter - Set authentication for user: testuser@gmail.com
2025-11-18 21:11:29.020 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /dashboard/tenant
2025-11-18 21:11:29.020 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dashboard/tenant", parameters={}
2025-11-18 21:11:29.021 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.nbjgroup.controller.DashboardController#getTenantDashboardData()
2025-11-18 21:11:29.021 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nbjgroup.controller.DashboardController.getTenantDashboardData(); target is of class [com.nbjgroup.controller.DashboardController]
2025-11-18 21:11:29.022 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nbjgroup.controller.DashboardController.getTenantDashboardData(); target is of class [com.nbjgroup.controller.DashboardController]
2025-11-18 21:11:29.044 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-11-18 21:11:29.044 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{profile={propertyAddress=123 false street, name=Test User, leaseEnd=null, email=testuser@gmail.com} (truncated)...]
2025-11-18 21:11:29.046 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-18 21:32:01.771 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=8m49s66ms225µs900ns).
2025-11-18 21:41:15.936 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m14s52ms233µs200ns).
2025-11-18 21:41:22.469 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-18 21:41:22.512 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-18 21:41:26.212 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
